# 코틀린 타입 시스템

코틀린의 타입 시스템은 코드의 가독성을 향상시키는 데 도움이 되는 몇 가지 특성을 새로 제공한다. 그런 특성으로 **널이 될 수 있는 타입**과 **읽기 전용 컬렉**션이 있다.

## 1. 널 가능성

널 가능성(nullabitily)는 NullPointerException(NPE) 오류를 피할 수 있게 돕기 위한 코틀린 타입 시스템의 특성이다. 코틀린을 비롯한 최신 언어에서 null에 대한 접근 방법은 가능한 이 문제를 실행 시점에서 컴파일 시점으로 옮기는 것이다. 널이 될 수 있는지 여부를 타입 시스템에 추가함으로써 컴파일러가 여러 가지 오류를 컴파일 시 미리 감지해서 실행 시점에 발생할 수 있는 예외의 가능성을 줄일 수 있다.

### (1) 널이 될 수 있는 타입

코틀린 타입 시스템이 널이 될 수 있는 타입을 명시적으로 지원한다. 널이 될 수 있는 타입은 프로그램 안의 프로퍼티나 변수에 null을 허용하게 만드는 방법을 뜻한다. 

- 함수가 널을 인자로 받을 수 있게 하려면 타입 이름 뒤에 물음표(?)를 명시해야 한다.

```kotlin
fun strLenSafe(s: String?) = ...
```

- 타입 이름 뒤에 물음표를 붙이면 그 타입을 변수나 프로퍼티에 null 참조를 저장할 수 있다는 뜻이다.
- null이 될 수 있는 타입의 변수는 그에 대해 수행할 수 있는 연산이 제한된다.

```kotlin
fun strLenSage(s: String?) = s.length()
>> ERROR
```

- null이 될 수 있는 타입인 변수에 대해 변수.메소드() 처럼 메소드를 직접 호출할 수는 없다.

```kotlin
val x: String? = null
val y: String = x
>> ERROR
```

- 널이 될 수 있는 값을 널이 될 수 없는 타입의 변수에 대입할 수 없다.

```kotlin
strLen(x)
>>ERROR
```

- null이 될 수 있는 타입의 값을 널이 될 수 없는 타입의 파라미터를 받는 함수에 전달할 수 없다.